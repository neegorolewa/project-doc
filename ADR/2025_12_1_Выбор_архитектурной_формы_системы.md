**ADR: 2025-12.1 - Выбор архитектурной формы системы**

**Дата:** 1 декабря 2025 г.

**Статус:** На проверке

**Контекст:** 

Перед началом проектирования системы бронирования отелей необходимо выбрать архитектурный стиль для приложения, который определит подход к разработке, развертыванию и масштабированию на долгосрочную перспективу.

Критически важные требования, влияющие на выбор:
- Высокая доступность и отказоустойчивость.
- Интенсивная нагрузка, особенно в пиковые периоды (сезон отпусков).
- Необходимость независимого масштабирования компонентов (поиск, оплата, управление контентом).
- Частые и независимые обновления функциональности для разных сущностей (гости, отели, партнеры).
- Интеграция с множеством разнородных внешних систем (платежные шлюзы, карты, email-сервисы).

**Рассмотренные варианты:**

1. **Модульный монолит**: Единое приложение, логически разделенное на модули (гости, отели, бронирования, платежи), но развертываемое как один артефакт.

2. **Микросервисная архитектура**: Система разделена на набор небольших, слабосвязанных сервисов, каждый из которых отвечает за отдельную бизнес-возможность (например, Сервис поиска, Сервис бронирований, Платежный сервис). Сервисы взаимодействуют через API.

3. **Сервис-ориентированная архитектура**: Более крупные, централизованно управляемые сервисы, ориентированные на повторное использование.

**Решение:**

Выбрана Микросервисная архитектура для ядра backend-системы.

**Обоснование:**

1. **Независимое масштабирование и отказоустойчивость.** Сервисы можно масштабировать и развертывать отдельно, что оптимизирует ресурсы и изолирует сбои, не затрагивая всю систему.

2. **Ориентация на бизнес-домены и четкие API.** Архитектура отражает бизнес-возможности, делая систему понятной для разработки и предоставляя ясные интерфейсы для внутренней и внешней интеграции.

3. **Технологическая гибкость и параллельная разработка.** Возможность использовать оптимальный стек технологий для разных задач и вести независимую работу над сервисами.

**Недостатки решения:**

1. **Усложнение системы.** Усложнение инфраструктуры, схемы взаимодействий и развертывания по сравнению с монолитом.

2. **Сложность распределенной разработки.** Появляются проблемы с согласованностью данных, транзакциями, тестированием и отладкой взаимодействующих сервисов.

3. **Квалификация сотрудников.** Разработка микросервисной архитектуры требует больше опыта.

**Последствия:**

- **Положительные:**
    1. Эластичное масштабирование: Система сможет гибко масштабироваться под меняющуюся нагрузку.
    2. Повышенная отказоустойчивость: Общая доступность и устойчивость системы к сбоям возрастут.
    3. Скорость разработки: Вывод новых функций ускорится благодаря параллельной работе независимых команд.

- **Отрицательные и нейтральные:**
    1. Рост операционной сложности: Появляется необходимость инвестировать в DevOps-практики для поддержки.
    2. Увеличение начальных затрат: Возрастут первоначальные вложения в инфраструктуру и инструменты разработки.
    3. Необходимость стандартизации: Потребуются строгие стандарты для API, версионирования и межсервисного взаимодействия.